{
    "sourceFile": "backend/routes/events.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1744024117442,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744048165552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,52 @@\n+const express = require('express');\n+const router = express.Router();\n+const Event = require('../models/Event');\n+\n+// Get all events\n+router.get('/', async (req, res) => {\n+  try {\n+    const events = await Event.find().populate('destinationId');\n+    res.json(events);\n+  } catch (error) {\n+    res.status(500).json({ message: error.message });\n+  }\n+});\n+\n+// Get single event\n+router.get('/:id', async (req, res) => {\n+  try {\n+    const event = await Event.findById(req.params.id).populate('destinationId');\n+    if (!event) {\n+      return res.status(404).json({ message: 'Event not found' });\n+    }\n+    res.json(event);\n+  } catch (error) {\n+    res.status(500).json({ message: error.message });\n+  }\n+});\n+\n+// Create new event\n+router.post('/', async (req, res) => {\n+  try {\n+    console.log('Received event data:', req.body);\n+    \n+    const event = new Event({\n+      title: req.body.title,\n+      intId: req.body.intId,\n+      destinationId: req.body.destinationId,\n+      start: req.body.start,\n+      end: req.body.end\n+    });\n+\n+    const newEvent = await event.save();\n+    res.status(201).json(newEvent);\n+  } catch (error) {\n+    console.error('Error creating event:', error);\n+    res.status(400).json({ \n+      message: error.message,\n+      details: error.errors \n+    });\n+  }\n+});\n+\n+module.exports = router;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1744049043124,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,54 @@\n+const express = require('express');\n+const router = express.Router();\n+const Event = require('../models/Event');\n+\n+// Get all events\n+router.get('/', async (req, res) => {\n+  try {\n+    const events = await Event.find().populate('destinationId');\n+    res.json(events);\n+  } catch (error) {\n+    res.status(500).json({ message: error.message });\n+  }\n+});\n+\n+// Get single event\n+router.get('/:id', async (req, res) => {\n+  try {\n+    const event = await Event.findOne({ intId: parseInt(req.params.id) })\n+                            .populate('destinationId');\n+    if (!event) {\n+      return res.status(404).json({ message: 'Event not found' });\n+    }\n+    res.json(event);\n+  } catch (error) {\n+    console.error('Error fetching event:', error);\n+    res.status(500).json({ message: error.message });\n+  }\n+});\n+\n+// Create new event\n+router.post('/', async (req, res) => {\n+  try {\n+    console.log('Received event data:', req.body);\n+    \n+    const event = new Event({\n+      title: req.body.title,\n+      intId: req.body.intId,\n+      destinationId: req.body.destinationId,\n+      start: req.body.start,\n+      end: req.body.end\n+    });\n+\n+    const newEvent = await event.save();\n+    res.status(201).json(newEvent);\n+  } catch (error) {\n+    console.error('Error creating event:', error);\n+    res.status(400).json({ \n+      message: error.message,\n+      details: error.errors \n+    });\n+  }\n+});\n+\n+module.exports = router;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1744049453958,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,59 @@\n+const express = require('express');\n+const router = express.Router();\n+const Event = require('../models/Event');\n+\n+// Get all events\n+router.get('/', async (req, res) => {\n+  try {\n+    const events = await Event.find().populate('destinationId');\n+    res.json(events);\n+  } catch (error) {\n+    res.status(500).json({ message: error.message });\n+  }\n+});\n+\n+// Get single event\n+router.get('/:id', async (req, res) => {\n+  try {\n+    console.log('Fetching event with ID:', req.params.id);\n+    const event = await Event.findOne({ intId: parseInt(req.params.id) })\n+      .populate('destinationId')\n+      .exec();\n+    \n+    if (!event) {\n+      return res.status(404).json({ message: 'Event not found' });\n+    }\n+    \n+    console.log('Found event:', event);\n+    res.json(event);\n+  } catch (error) {\n+    console.error('Error fetching event:', error);\n+    res.status(500).json({ message: error.message });\n+  }\n+});\n+\n+// Create new event\n+router.post('/', async (req, res) => {\n+  try {\n+    console.log('Received event data:', req.body);\n+    \n+    const event = new Event({\n+      title: req.body.title,\n+      intId: req.body.intId,\n+      destinationId: req.body.destinationId,\n+      start: req.body.start,\n+      end: req.body.end\n+    });\n+\n+    const newEvent = await event.save();\n+    res.status(201).json(newEvent);\n+  } catch (error) {\n+    console.error('Error creating event:', error);\n+    res.status(400).json({ \n+      message: error.message,\n+      details: error.errors \n+    });\n+  }\n+});\n+\n+module.exports = router;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1744024117442,
            "name": "Commit-0",
            "content": "const express = require('express');\nconst router = express.Router();\nconst Event = require('../models/Event');\n\n// Get all events\nrouter.get('/', async (req, res) => {\n  try {\n    const events = await Event.find().populate('destinationId');\n    res.json(events);\n  } catch (error) {\n    res.status(500).json({ message: error.message });\n  }\n});\n\n\n\n// Create new event\nrouter.post('/', async (req, res) => {\n  const event = new Event({\n    title: req.body.title,\n    destinationId: req.body.destinationId,\n    start: req.body.start,\n    end: req.body.end\n  });\n\n  try {\n    const newEvent = await event.save();\n    res.status(201).json(newEvent);\n  } catch (error) {\n    res.status(400).json({ message: error.message });\n  }\n});\n\nmodule.exports = router;"
        }
    ]
}