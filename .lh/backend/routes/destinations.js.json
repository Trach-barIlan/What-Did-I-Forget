{
    "sourceFile": "backend/routes/destinations.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1744011428815,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1744011428815,
            "name": "Commit-0",
            "content": "const express = require('express');\nconst Destination = require('../models/Destination');\nconst router = express.Router();\n\n// Get all destinations\nrouter.get('/', async (req, res) => {\n  try {\n    const destinations = await Destination.find();\n    res.json(destinations);\n  } catch (err) {\n    res.status(500).json({ message: err.message });\n  }\n});\n\n// Create a new destination\nrouter.post('/', async (req, res) => {\n    try {\n      // Find the highest intId in the collection\n      const highestDestination = await Destination.findOne().sort('-intId');\n      const nextIntId = (highestDestination?.intId || 0) + 1;\n  \n      const destination = new Destination({\n        ...req.body,\n        intId: nextIntId\n      });\n      \n      const savedDestination = await destination.save();\n      res.status(201).json(savedDestination);\n    } catch (error) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n  \n\nmodule.exports = router;\n"
        }
    ]
}